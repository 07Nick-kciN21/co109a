# 組譯器沒有符號版

> 理解老師的程式碼後自己用python寫一遍


## make 指令
```
$ mingw32-make clean
rm -f *.o *.exe asm vm dasm asm1
``` 

```
$ mingw32-make
g++ -std=c++11 asm.cpp -o asm
gcc -std=c99 vm.c -o vm
gcc -std=c99 dasm.c -o dasm
mingw32-make: *** No rule to make target 'asm1.cpp', needed by 'asm1'.  Stop.
```
## add.asm
``` 
$ python asm.py
add
============= PASS1 ================
00:@2
01:D=A
02:@3
03:D=D+A;JMP
04:@0
05:M=D
============= PASS2 ================
00:@2                 0000000000000010  0002
01:D=A                1110110000010000  ec10
02:@3                 0000000000000011  0003
03:D=D+A;JMP          1110000010010111  e097
04:@0                 0000000000000000  0000
05:M=D                1110001100001000  e308
``` 
## MaxL.asm
```
$ python asm.py
max/MaxL
============= PASS1 ================
00:@0
01:D=M
02:@1
03:D=D-M
04:@10
05:D;JGT
06:@1
07:D=M
08:@12
09:0;JMP
10:@0
11:D=M
12:@2
13:M=D
14:@14
15:0;JMP
============= PASS2 ================
00:@0                 0000000000000000  0000
01:D=M                1111110000010000  fc10
02:@1                 0000000000000001  0001
03:D=D-M              1111010011010000  f4d0
04:@10                0000000000001010  000a
05:D;JGT              1110001100000001  e301
06:@1                 0000000000000001  0001
07:D=M                1111110000010000  fc10
08:@12                0000000000001100  000c
09:0;JMP              1110101010000111  ea87
10:@0                 0000000000000000  0000
11:D=M                1111110000010000  fc10
12:@2                 0000000000000010  0002
13:M=D                1110001100001000  e308
14:@14                0000000000001110  000e
15:0;JMP              1110101010000111  ea87
``` 

## PongL.asm(太長了，我放開頭跟結尾)

```
$ python asm.py
pong/PongL
============= PASS1 ================
00:@256
01:D=A
02:@0
03:M=D
04:@133
05:0;JMP
06:@15
07:M=D
08:@0
09:AM=M-1
10:D=M
11:A=A-1
12:D=M-D
13:M=0
14:@19
15:D;JNE
16:@0
17:A=M-1
18:M=-1
19:@15
20:A=M
21:0;JMP
22:@15
23:M=D
24:@0
25:AM=M-1
26:D=M
27:A=A-1
28:D=M-D
29:M=0
30:@35
31:D;JLE
32:@0
33:A=M-1
34:M=-1
35:@15
36:A=M
37:0;JMP
38:@15
39:M=D
40:@0
41:AM=M-1
```

```
7460:0;JMP              1110101010000111  ea87
27461:@0                 0000000000000000  0000
27462:AM=M-1             1111110010101000  fca8
27463:D=M                1111110000010000  fc10
27464:@5                 0000000000000101  0005
27465:M=D                1110001100001000  e308
27466:@0                 0000000000000000  0000
27467:D=A                1110110000010000  ec10
27468:@13                0000000000001101  000d
27469:M=D                1110001100001000  e308
27470:@27177             0110101000101001  6a29
27471:D=A                1110110000010000  ec10
27472:@14                0000000000001110  000e
27473:M=D                1110001100001000  e308
27474:@27478             0110101101010110  6b56
27475:D=A                1110110000010000  ec10
27476:@95                0000000001011111  005f
27477:0;JMP              1110101010000111  ea87
27478:@0                 0000000000000000  0000
27479:AM=M-1             1111110010101000  fca8
27480:D=M                1111110000010000  fc10
27481:@5                 0000000000000101  0005
27482:M=D                1110001100001000  e308
```

## RectL.asm
```
$ python asm.py
rect/RectL 
============= PASS1 ================
00:@0
01:D=M
02:@23
03:D;JLE
04:@16
05:M=D
06:@16384
07:D=A
08:@17
09:M=D
10:@17
11:A=M
12:M=-1
13:@17
14:D=M
15:@32
16:D=D+A
17:@17
18:M=D
19:@16
20:MD=M-1
21:@10
22:D;JGT
23:@23
24:0;JMP
============= PASS2 ================
00:@0                 0000000000000000  0000
01:D=M                1111110000010000  fc10
02:@23                0000000000010111  0017
03:D;JLE              1110001100000110  e306
04:@16                0000000000010000  0010
05:M=D                1110001100001000  e308
06:@16384             0100000000000000  4000
07:D=A                1110110000010000  ec10
08:@17                0000000000010001  0011
09:M=D                1110001100001000  e308
10:@17                0000000000010001  0011
11:A=M                1111110000100000  fc20
12:M=-1               1110111010001000  ee88
13:@17                0000000000010001  0011
14:D=M                1111110000010000  fc10
15:@32                0000000000100000  0020
16:D=D+A              1110000010010000  e090
17:@17                0000000000010001  0011
18:M=D                1110001100001000  e308
19:@16                0000000000010000  0010
20:MD=M-1             1111110010011000  fc98
21:@10                0000000000001010  000a
22:D;JGT              1110001100000001  e301
23:@23                0000000000010111  0017
24:0;JMP              1110101010000111  ea87
```