# 組譯器有符號版

程式碼---https://github.com/07Nick-kciN21/co109a/blob/master/06/asm2.py

## sum.asm

```
$ python asm2.py
sum
============= PASS1 ================
00:@10
01:D=A
02:@0
03:M=D
04:@a_q
05:M=1
06:@sum
07:M=0
08:(LOOP)
symbol:LOOP address=8
08:@i
09:D=M
10:@R0
11:D=D-M
12:@STOP
13:D;JGT
14:@i
15:D=M
16:@sum
17:M=D+M
18:@i
19:M=M+1
20:@LOOP
21:0;JMP
22:(STOP)
symbol:STOP address=22
22:@sum
23:D=M
24:@R1
25:M=D
26:(END)
symbol:END address=26
26:@END
27:0;JMP
============= PASS2 ================
00:@10                0000000000001010  000a
01:D=A                1110110000010000  ec10
02:@0                 0000000000000000  0000
03:M=D                1110001100001000  e308
04:@a_q               0000000000010000  0010
05:M=1                1110111111001000  efc8
06:@sum               0000000000010001  0011
07:M=0                1110101010001000  ea88
(LOOP)
08:@i                 0000000000010010  0012
09:D=M                1111110000010000  fc10
10:@R0                0000000000000000  0000
11:D=D-M              1111010011010000  f4d0
12:@STOP              0000000000010110  0016
13:D;JGT              1110001100000001  e301
14:@i                 0000000000010010  0012
15:D=M                1111110000010000  fc10
16:@sum               0000000000010001  0011
17:M=D+M              1111000010001000  f088
18:@i                 0000000000010010  0012
19:M=M+1              1111110111001000  fdc8
20:@LOOP              0000000000001000  0008
21:0;JMP              1110101010000111  ea87
(STOP)
22:@sum               0000000000010001  0011
23:D=M                1111110000010000  fc10
24:@R1                0000000000000001  0001
25:M=D                1110001100001000  e308
(END)
26:@END               0000000000011010  001a
27:0;JMP              1110101010000111  ea87
```

## Max.asm

```
$ python asm2.py
max/Max
============= PASS1 ================
00:@R0
01:D=M
02:@R1
03:D=D-M
04:@OUTPUT_FIRST
05:D;JGT
06:@R1
07:D=M
08:@OUTPUT_D
09:0;JMP
10:(OUTPUT_FIRST)
symbol:OUTPUT_FIRST address=10
10:@R0
11:D=M
12:(OUTPUT_D)
symbol:OUTPUT_D address=12
12:@R2
13:M=D
14:(INFINITE_LOOP)
symbol:INFINITE_LOOP address=14
14:@INFINITE_LOOP
15:0;JMP
============= PASS2 ================
00:@R0                0000000000000000  0000
01:D=M                1111110000010000  fc10
02:@R1                0000000000000001  0001
03:D=D-M              1111010011010000  f4d0
04:@OUTPUT_FIRST      0000000000001010  000a
05:D;JGT              1110001100000001  e301
06:@R1                0000000000000001  0001
07:D=M                1111110000010000  fc10
08:@OUTPUT_D          0000000000001100  000c
09:0;JMP              1110101010000111  ea87
(OUTPUT_FIRST)
10:@R0                0000000000000000  0000
11:D=M                1111110000010000  fc10
(OUTPUT_D)
12:@R2                0000000000000010  0002
13:M=D                1110001100001000  e308
(INFINITE_LOOP)
14:@INFINITE_LOOP     0000000000001110  000e
15:0;JMP              1110101010000111  ea87
```

## pong.asm(一樣很長，分兩段)

```
$ python asm2.py
pong/Pong
============= PASS1 ================
00:@256
01:D=A
02:@SP
03:M=D
04:@133
05:0;JMP
06:@R15
07:M=D
08:@SP
09:AM=M-1
10:D=M
11:A=A-1
12:D=M-D
13:M=0
14:@END_EQ
15:D;JNE
16:@SP
17:A=M-1
18:M=-1
19:(END_EQ)
symbol:END_EQ address=19
19:@R15
20:A=M
21:0;JMP
22:@R15
23:M=D
24:@SP
25:AM=M-1
26:D=M
27:A=A-1
28:D=M-D
29:M=0
30:@END_GT
31:D;JLE
32:@SP
33:A=M-1
34:M=-1
35:(END_GT)
symbol:END_GT address=35
35:@R15
36:A=M
37:0;JMP
38:@R15
39:M=D
40:@SP
41:AM=M-1
42:D=M
43:A=A-1
44:D=M-D
45:M=0
46:@END_LT
47:D;JGE
48:@SP
49:A=M-1
50:M=-1
51:(END_LT)
symbol:END_LT address=51
51:@R15
52:A=M
53:0;JMP
54:@5
55:D=A
56:@LCL
57:A=M-D
58:D=M
59:@R13
60:M=D
61:@SP
62:AM=M-1
63:D=M
64:@ARG
65:A=M
66:M=D
67:D=A
68:@SP
69:M=D+1
70:@LCL
71:D=M
72:@R14
73:AM=D-1
74:D=M
75:@THAT
76:M=D
77:@R14
78:AM=M-1
79:D=M
80:@THIS
```

```
27057:0;JMP              1110101010000111  ea87
(sys.init)
27058:@0                 0000000000000000  0000
27059:D=A                1110110000010000  ec10
27060:@R13               0000000000001101  000d
27061:M=D                1110001100001000  e308
27062:@memory.init       0010000100000101  2105
27063:D=A                1110110000010000  ec10
27064:@R14               0000000000001110  000e
27065:M=D                1110001100001000  e308
27066:@RET_ADDRESS_CALL320    0110100110111110  69be
27067:D=A                1110110000010000  ec10
27068:@95                0000000001011111  005f
27069:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL320)
27070:@SP                0000000000000000  0000
27071:AM=M-1             1111110010101000  fca8
27072:D=M                1111110000010000  fc10
27073:@R5                0000000000000101  0005
27074:M=D                1110001100001000  e308
27075:@0                 0000000000000000  0000
27076:D=A                1110110000010000  ec10
27077:@R13               0000000000001101  000d
27078:M=D                1110001100001000  e308
27079:@math.init         0001100101101001  1969
27080:D=A                1110110000010000  ec10
27081:@R14               0000000000001110  000e
27082:M=D                1110001100001000  e308
27083:@RET_ADDRESS_CALL321    0110100111001111  69cf
27084:D=A                1110110000010000  ec10
27085:@95                0000000001011111  005f
27086:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL321)
27087:@SP                0000000000000000  0000
27088:AM=M-1             1111110010101000  fca8
27089:D=M                1111110000010000  fc10
27090:@R5                0000000000000101  0005
27091:M=D                1110001100001000  e308
27092:@0                 0000000000000000  0000
27093:D=A                1110110000010000  ec10
27094:@R13               0000000000001101  000d
27095:M=D                1110001100001000  e308
27096:@screen.init       0100111101101001  4f69
27097:D=A                1110110000010000  ec10
27098:@R14               0000000000001110  000e
27099:M=D                1110001100001000  e308
27100:@RET_ADDRESS_CALL322    0110100111100000  69e0
27101:D=A                1110110000010000  ec10
27102:@95                0000000001011111  005f
27103:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL322)
27104:@SP                0000000000000000  0000
27105:AM=M-1             1111110010101000  fca8
27106:D=M                1111110000010000  fc10
27107:@R5                0000000000000101  0005
27108:M=D                1110001100001000  e308
27109:@0                 0000000000000000  0000
27110:D=A                1110110000010000  ec10
27111:@R13               0000000000001101  000d
27112:M=D                1110001100001000  e308
27113:@output.init       0010011001111110  267e
27114:D=A                1110110000010000  ec10
27115:@R14               0000000000001110  000e
27116:M=D                1110001100001000  e308
27117:@RET_ADDRESS_CALL323    0110100111110001  69f1
27118:D=A                1110110000010000  ec10
27119:@95                0000000001011111  005f
27120:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL323)
27121:@SP                0000000000000000  0000
27122:AM=M-1             1111110010101000  fca8
27123:D=M                1111110000010000  fc10
27124:@R5                0000000000000101  0005
27125:M=D                1110001100001000  e308
27126:@0                 0000000000000000  0000
27127:D=A                1110110000010000  ec10
27128:@R13               0000000000001101  000d
27129:M=D                1110001100001000  e308
27130:@keyboard.init     0001011100011110  171e
27131:D=A                1110110000010000  ec10
27132:@R14               0000000000001110  000e
27133:M=D                1110001100001000  e308
27134:@RET_ADDRESS_CALL324    0110101000000010  6a02
27135:D=A                1110110000010000  ec10
27136:@95                0000000001011111  005f
27137:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL324)
27138:@SP                0000000000000000  0000
27139:AM=M-1             1111110010101000  fca8
27140:D=M                1111110000010000  fc10
27141:@R5                0000000000000101  0005
27142:M=D                1110001100001000  e308
27143:@0                 0000000000000000  0000
27144:D=A                1110110000010000  ec10
27145:@R13               0000000000001101  000d
27146:M=D                1110001100001000  e308
27147:@main.main         0000111011111101  0efd
27148:D=A                1110110000010000  ec10
27149:@R14               0000000000001110  000e
27150:M=D                1110001100001000  e308
27151:@RET_ADDRESS_CALL325    0110101000010011  6a13
27152:D=A                1110110000010000  ec10
27153:@95                0000000001011111  005f
27154:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL325)
27155:@SP                0000000000000000  0000
27156:AM=M-1             1111110010101000  fca8
27157:D=M                1111110000010000  fc10
27158:@R5                0000000000000101  0005
27159:M=D                1110001100001000  e308
27160:@0                 0000000000000000  0000
27161:D=A                1110110000010000  ec10
27162:@R13               0000000000001101  000d
27163:M=D                1110001100001000  e308
27164:@sys.halt          0110101000101001  6a29
27165:D=A                1110110000010000  ec10
27166:@R14               0000000000001110  000e
27167:M=D                1110001100001000  e308
27168:@RET_ADDRESS_CALL326    0110101000100100  6a24
27169:D=A                1110110000010000  ec10
27170:@95                0000000001011111  005f
27171:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL326)
27172:@SP                0000000000000000  0000
27173:AM=M-1             1111110010101000  fca8
27174:D=M                1111110000010000  fc10
27175:@R5                0000000000000101  0005
27176:M=D                1110001100001000  e308
(sys.halt)
(sys.halt$while_exp0)
27177:@SP                0000000000000000  0000
27178:M=M+1              1111110111001000  fdc8
27179:A=M-1              1111110010100000  fca0
27180:M=0                1110101010001000  ea88
27181:@SP                0000000000000000  0000
27182:A=M-1              1111110010100000  fca0
27183:M=!M               1111110001001000  fc48
27184:@SP                0000000000000000  0000
27185:A=M-1              1111110010100000  fca0
27186:M=!M               1111110001001000  fc48
27187:@SP                0000000000000000  0000
27188:AM=M-1             1111110010101000  fca8
27189:D=M                1111110000010000  fc10
27190:@sys.halt$while_end0    0110101000111010  6a3a
27191:D;JNE              1110001100000101  e305
27192:@sys.halt$while_exp0    0110101000101001  6a29
27193:0;JMP              1110101010000111  ea87
(sys.halt$while_end0)
(sys.wait)
27194:@SP                0000000000000000  0000
27195:AM=M+1             1111110111101000  fde8
27196:A=A-1              1110110010100000  eca0
27197:M=0                1110101010001000  ea88
27198:@ARG               0000000000000010  0002
27199:A=M                1111110000100000  fc20
27200:D=M                1111110000010000  fc10
27201:@SP                0000000000000000  0000
27202:AM=M+1             1111110111101000  fde8
27203:A=A-1              1110110010100000  eca0
27204:M=D                1110001100001000  e308
27205:@SP                0000000000000000  0000
27206:M=M+1              1111110111001000  fdc8
27207:A=M-1              1111110010100000  fca0
27208:M=0                1110101010001000  ea88
27209:@RET_ADDRESS_LT64    0110101001001101  6a4d
27210:D=A                1110110000010000  ec10
27211:@38                0000000000100110  0026
27212:0;JMP              1110101010000111  ea87
(RET_ADDRESS_LT64)
27213:@SP                0000000000000000  0000
27214:AM=M-1             1111110010101000  fca8
27215:D=M                1111110000010000  fc10
27216:@sys.wait$if_true0    0110101001010100  6a54
27217:D;JNE              1110001100000101  e305
27218:@sys.wait$if_false0    0110101001101001  6a69
27219:0;JMP              1110101010000111  ea87
(sys.wait$if_true0)
27220:@SP                0000000000000000  0000
27221:M=M+1              1111110111001000  fdc8
27222:A=M-1              1111110010100000  fca0
27223:M=1                1110111111001000  efc8
27224:@1                 0000000000000001  0001
27225:D=A                1110110000010000  ec10
27226:@R13               0000000000001101  000d
27227:M=D                1110001100001000  e308
27228:@sys.error         0110101011011001  6ad9
27229:D=A                1110110000010000  ec10
27230:@R14               0000000000001110  000e
27231:M=D                1110001100001000  e308
27232:@RET_ADDRESS_CALL327    0110101001100100  6a64
27233:D=A                1110110000010000  ec10
27234:@95                0000000001011111  005f
27235:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL327)
27236:@SP                0000000000000000  0000
27237:AM=M-1             1111110010101000  fca8
27238:D=M                1111110000010000  fc10
27239:@R5                0000000000000101  0005
27240:M=D                1110001100001000  e308
(sys.wait$if_false0)
(sys.wait$while_exp0)
27241:@ARG               0000000000000010  0002
27242:A=M                1111110000100000  fc20
27243:D=M                1111110000010000  fc10
27244:@SP                0000000000000000  0000
27245:AM=M+1             1111110111101000  fde8
27246:A=A-1              1110110010100000  eca0
27247:M=D                1110001100001000  e308
27248:@SP                0000000000000000  0000
27249:M=M+1              1111110111001000  fdc8
27250:A=M-1              1111110010100000  fca0
27251:M=0                1110101010001000  ea88
27252:@RET_ADDRESS_GT50    0110101001111000  6a78
27253:D=A                1110110000010000  ec10
27254:@22                0000000000010110  0016
27255:0;JMP              1110101010000111  ea87
(RET_ADDRESS_GT50)
27256:@SP                0000000000000000  0000
27257:A=M-1              1111110010100000  fca0
27258:M=!M               1111110001001000  fc48
27259:@SP                0000000000000000  0000
27260:AM=M-1             1111110010101000  fca8
27261:D=M                1111110000010000  fc10
27262:@sys.wait$while_end0    0110101011010011  6ad3
27263:D;JNE              1110001100000101  e305
27264:@50                0000000000110010  0032
27265:D=A                1110110000010000  ec10
27266:@SP                0000000000000000  0000
27267:AM=M+1             1111110111101000  fde8
27268:A=A-1              1110110010100000  eca0
27269:M=D                1110001100001000  e308
27270:@SP                0000000000000000  0000
27271:AM=M-1             1111110010101000  fca8
27272:D=M                1111110000010000  fc10
27273:@LCL               0000000000000000  0000
27274:A=M                1111110000100000  fc20
27275:M=D                1110001100001000  e308
(sys.wait$while_exp1)
27276:@LCL               0000000000000000  0000
27277:A=M                1111110000100000  fc20
27278:D=M                1111110000010000  fc10
27279:@SP                0000000000000000  0000
27280:AM=M+1             1111110111101000  fde8
27281:A=A-1              1110110010100000  eca0
27282:M=D                1110001100001000  e308
27283:@SP                0000000000000000  0000
27284:M=M+1              1111110111001000  fdc8
27285:A=M-1              1111110010100000  fca0
27286:M=0                1110101010001000  ea88
27287:@RET_ADDRESS_GT51    0110101010011011  6a9b
27288:D=A                1110110000010000  ec10
27289:@22                0000000000010110  0016
27290:0;JMP              1110101010000111  ea87
(RET_ADDRESS_GT51)
27291:@SP                0000000000000000  0000
27292:A=M-1              1111110010100000  fca0
27293:M=!M               1111110001001000  fc48
27294:@SP                0000000000000000  0000
27295:AM=M-1             1111110010101000  fca8
27296:D=M                1111110000010000  fc10
27297:@sys.wait$while_end1    0110101010111011  6abb
27298:D;JNE              1110001100000101  e305
27299:@LCL               0000000000000000  0000
27300:A=M                1111110000100000  fc20
27301:D=M                1111110000010000  fc10
27302:@SP                0000000000000000  0000
27303:AM=M+1             1111110111101000  fde8
27304:A=A-1              1110110010100000  eca0
27305:M=D                1110001100001000  e308
27306:@SP                0000000000000000  0000
27307:M=M+1              1111110111001000  fdc8
27308:A=M-1              1111110010100000  fca0
27309:M=1                1110111111001000  efc8
27310:@SP                0000000000000000  0000
27311:AM=M-1             1111110010101000  fca8
27312:D=M                1111110000010000  fc10
27313:A=A-1              1110110010100000  eca0
27314:M=M-D              1111000111001000  f1c8
27315:@SP                0000000000000000  0000
27316:AM=M-1             1111110010101000  fca8
27317:D=M                1111110000010000  fc10
27318:@LCL               0000000000000000  0000
27319:A=M                1111110000100000  fc20
27320:M=D                1110001100001000  e308
27321:@sys.wait$while_exp1    0110101010001100  6a8c
27322:0;JMP              1110101010000111  ea87
(sys.wait$while_end1)
27323:@ARG               0000000000000010  0002
27324:A=M                1111110000100000  fc20
27325:D=M                1111110000010000  fc10
27326:@SP                0000000000000000  0000
27327:AM=M+1             1111110111101000  fde8
27328:A=A-1              1110110010100000  eca0
27329:M=D                1110001100001000  e308
27330:@SP                0000000000000000  0000
27331:M=M+1              1111110111001000  fdc8
27332:A=M-1              1111110010100000  fca0
27333:M=1                1110111111001000  efc8
27334:@SP                0000000000000000  0000
27335:AM=M-1             1111110010101000  fca8
27336:D=M                1111110000010000  fc10
27337:A=A-1              1110110010100000  eca0
27338:M=M-D              1111000111001000  f1c8
27339:@SP                0000000000000000  0000
27340:AM=M-1             1111110010101000  fca8
27341:D=M                1111110000010000  fc10
27342:@ARG               0000000000000010  0002
27343:A=M                1111110000100000  fc20
27344:M=D                1110001100001000  e308
27345:@sys.wait$while_exp0    0110101001101001  6a69
27346:0;JMP              1110101010000111  ea87
(sys.wait$while_end0)
27347:@SP                0000000000000000  0000
27348:M=M+1              1111110111001000  fdc8
27349:A=M-1              1111110010100000  fca0
27350:M=0                1110101010001000  ea88
27351:@54                0000000000110110  0036
27352:0;JMP              1110101010000111  ea87
(sys.error)
27353:@3                 0000000000000011  0003
27354:D=A                1110110000010000  ec10
27355:@SP                0000000000000000  0000
27356:AM=M+1             1111110111101000  fde8
27357:A=A-1              1110110010100000  eca0
27358:M=D                1110001100001000  e308
27359:@1                 0000000000000001  0001
27360:D=A                1110110000010000  ec10
27361:@R13               0000000000001101  000d
27362:M=D                1110001100001000  e308
27363:@string.new        0110001000010001  6211
27364:D=A                1110110000010000  ec10
27365:@R14               0000000000001110  000e
27366:M=D                1110001100001000  e308
27367:@RET_ADDRESS_CALL328    0110101011101011  6aeb
27368:D=A                1110110000010000  ec10
27369:@95                0000000001011111  005f
27370:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL328)
27371:@69                0000000001000101  0045
27372:D=A                1110110000010000  ec10
27373:@SP                0000000000000000  0000
27374:AM=M+1             1111110111101000  fde8
27375:A=A-1              1110110010100000  eca0
27376:M=D                1110001100001000  e308
27377:@2                 0000000000000010  0002
27378:D=A                1110110000010000  ec10
27379:@R13               0000000000001101  000d
27380:M=D                1110001100001000  e308
27381:@string.appendchar    0110010000111011  643b
27382:D=A                1110110000010000  ec10
27383:@R14               0000000000001110  000e
27384:M=D                1110001100001000  e308
27385:@RET_ADDRESS_CALL329    0110101011111101  6afd
27386:D=A                1110110000010000  ec10
27387:@95                0000000001011111  005f
27388:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL329)
27389:@82                0000000001010010  0052
27390:D=A                1110110000010000  ec10
27391:@SP                0000000000000000  0000
27392:AM=M+1             1111110111101000  fde8
27393:A=A-1              1110110010100000  eca0
27394:M=D                1110001100001000  e308
27395:@2                 0000000000000010  0002
27396:D=A                1110110000010000  ec10
27397:@R13               0000000000001101  000d
27398:M=D                1110001100001000  e308
27399:@string.appendchar    0110010000111011  643b
27400:D=A                1110110000010000  ec10
27401:@R14               0000000000001110  000e
27402:M=D                1110001100001000  e308
27403:@RET_ADDRESS_CALL330    0110101100001111  6b0f
27404:D=A                1110110000010000  ec10
27405:@95                0000000001011111  005f
27406:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL330)
27407:@82                0000000001010010  0052
27408:D=A                1110110000010000  ec10
27409:@SP                0000000000000000  0000
27410:AM=M+1             1111110111101000  fde8
27411:A=A-1              1110110010100000  eca0
27412:M=D                1110001100001000  e308
27413:@2                 0000000000000010  0002
27414:D=A                1110110000010000  ec10
27415:@R13               0000000000001101  000d
27416:M=D                1110001100001000  e308
27417:@string.appendchar    0110010000111011  643b
27418:D=A                1110110000010000  ec10
27419:@R14               0000000000001110  000e
27420:M=D                1110001100001000  e308
27421:@RET_ADDRESS_CALL331    0110101100100001  6b21
27422:D=A                1110110000010000  ec10
27423:@95                0000000001011111  005f
27424:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL331)
27425:@1                 0000000000000001  0001
27426:D=A                1110110000010000  ec10
27427:@R13               0000000000001101  000d
27428:M=D                1110001100001000  e308
27429:@output.printstring    0100110110001010  4d8a
27430:D=A                1110110000010000  ec10
27431:@R14               0000000000001110  000e
27432:M=D                1110001100001000  e308
27433:@RET_ADDRESS_CALL332    0110101100101101  6b2d
27434:D=A                1110110000010000  ec10
27435:@95                0000000001011111  005f
27436:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL332)
27437:@SP                0000000000000000  0000
27438:AM=M-1             1111110010101000  fca8
27439:D=M                1111110000010000  fc10
27440:@R5                0000000000000101  0005
27441:M=D                1110001100001000  e308
27442:@ARG               0000000000000010  0002
27443:A=M                1111110000100000  fc20
27444:D=M                1111110000010000  fc10
27445:@SP                0000000000000000  0000
27446:AM=M+1             1111110111101000  fde8
27447:A=A-1              1110110010100000  eca0
27448:M=D                1110001100001000  e308
27449:@1                 0000000000000001  0001
27450:D=A                1110110000010000  ec10
27451:@R13               0000000000001101  000d
27452:M=D                1110001100001000  e308
27453:@output.printint    0100111000001101  4e0d
27454:D=A                1110110000010000  ec10
27455:@R14               0000000000001110  000e
27456:M=D                1110001100001000  e308
27457:@RET_ADDRESS_CALL333    0110101101000101  6b45
27458:D=A                1110110000010000  ec10
27459:@95                0000000001011111  005f
27460:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL333)
27461:@SP                0000000000000000  0000
27462:AM=M-1             1111110010101000  fca8
27463:D=M                1111110000010000  fc10
27464:@R5                0000000000000101  0005
27465:M=D                1110001100001000  e308
27466:@0                 0000000000000000  0000
27467:D=A                1110110000010000  ec10
27468:@R13               0000000000001101  000d
27469:M=D                1110001100001000  e308
27470:@sys.halt          0110101000101001  6a29
27471:D=A                1110110000010000  ec10
27472:@R14               0000000000001110  000e
27473:M=D                1110001100001000  e308
27474:@RET_ADDRESS_CALL334    0110101101010110  6b56
27475:D=A                1110110000010000  ec10
27476:@95                0000000001011111  005f
27477:0;JMP              1110101010000111  ea87
(RET_ADDRESS_CALL334)
27478:@SP                0000000000000000  0000
27479:AM=M-1             1111110010101000  fca8
27480:D=M                1111110000010000  fc10
27481:@R5                0000000000000101  0005
27482:M=D                1110001100001000  e308
```

## rect.asm

```
$ python asm2.py
rect/Rect
============= PASS1 ================
00:@0
01:D=M
02:@INFINITE_LOOP
03:D;JLE
04:@counter
05:M=D
06:@SCREEN
07:D=A
08:@address
09:M=D
10:(LOOP)
symbol:LOOP address=10
10:@address
11:A=M
12:M=-1
13:@address
14:D=M
15:@32
16:D=D+A
17:@address
18:M=D
19:@counter
20:MD=M-1
21:@LOOP
22:D;JGT
23:(INFINITE_LOOP)
symbol:INFINITE_LOOP address=23
23:@INFINITE_LOOP
24:0;JMP
============= PASS2 ================
00:@0                 0000000000000000  0000
01:D=M                1111110000010000  fc10
02:@INFINITE_LOOP     0000000000010111  0017
03:D;JLE              1110001100000110  e306
04:@counter           0000000000010001  0011
05:M=D                1110001100001000  e308
06:@SCREEN            0100000000000000  4000
07:D=A                1110110000010000  ec10
08:@address           0000000000010011  0013
09:M=D                1110001100001000  e308
(LOOP)
10:@address           0000000000010011  0013
11:A=M                1111110000100000  fc20
12:M=-1               1110111010001000  ee88
13:@address           0000000000010011  0013
14:D=M                1111110000010000  fc10
15:@32                0000000000100000  0020
16:D=D+A              1110000010010000  e090
17:@address           0000000000010011  0013
18:M=D                1110001100001000  e308
19:@counter           0000000000010001  0011
20:MD=M-1             1111110010011000  fc98
21:@LOOP              0000000000001010  000a
22:D;JGT              1110001100000001  e301
(INFINITE_LOOP)
23:@INFINITE_LOOP     0000000000010111  0017
24:0;JMP              1110101010000111  ea87
```